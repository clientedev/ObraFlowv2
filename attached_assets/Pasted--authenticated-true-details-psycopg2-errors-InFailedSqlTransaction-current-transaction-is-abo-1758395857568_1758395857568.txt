{"authenticated":true,"details":"(psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block\n\n[SQL: SELECT relatorios.id AS relatorios_id, relatorios.numero AS relatorios_numero, relatorios.titulo AS relatorios_titulo, relatorios.projeto_id AS relatorios_projeto_id, relatorios.visita_id AS relatorios_visita_id, relatorios.autor_id AS relatorios_autor_id, relatorios.aprovador_id AS relatorios_aprovador_id, relatorios.data_relatorio AS relatorios_data_relatorio, relatorios.data_aprovacao AS relatorios_data_aprovacao, relatorios.conteudo AS relatorios_conteudo, relatorios.checklist_data AS relatorios_checklist_data, relatorios.status AS relatorios_status, relatorios.comentario_aprovacao AS relatorios_comentario_aprovacao, relatorios.created_at AS relatorios_created_at, relatorios.updated_at AS relatorios_updated_at \nFROM relatorios ORDER BY relatorios.created_at DESC \n LIMIT %(param_1)s]\n[parameters: {'param_1': 10}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)","error":"Erro interno no servidor","message":"Falha ao carregar lista de relat√≥rios","traceback":"Traceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column relatorios.updated_at does not exist\nLINE 1: ..., relatorios.created_at AS relatorios_created_at, relatorios...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"relatorios.created_at\".\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/routes.py\", line 498, in reports\n    relatorios = query.order_by(Relatorio.created_at.desc()).paginate(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/query.py\", line 98, in paginate\n    return QueryPagination(\n           ^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/pagination.py\", line 72, in __init__\n    items = self._query_items()\n            ^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/flask_sqlalchemy/pagination.py\", line 358, in _query_items\n    out = query.limit(self.per_page).offset(self._query_offset).all()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2704, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n           ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column relatorios.updated_at does not exist\nLINE 1: ..., relatorios.created_at AS relatorios_created_at, relatorios...\n                                                             ^\nHINT:  Perhaps you meant to reference the column \"relatorios.created_at\".\n\n[SQL: SELECT relatorios.id AS relatorios_id, relatorios.numero AS relatorios_numero, relatorios.titulo AS relatorios_titulo, relatorios.projeto_id AS relatorios_projeto_id, relatorios.visita_id AS relatorios_visita_id, relatorios.autor_id AS relatorios_autor_id, relatorios.aprovador_id AS relatorios_aprovador_id, relatorios.data_relatorio AS relatorios_data_relatorio, relatorios.data_aprovacao AS relatorios_data_aprovacao, relatorios.conteudo AS relatorios_conteudo, relatorios.checklist_data AS relatorios_checklist_data, relatorios.status AS relatorios_status, relatorios.comentario_aprovacao AS relatorios_comentario_aprovacao, relatorios.created_at AS relatorios_created_at, relatorios.updated_at AS relatorios_updated_at \nFROM relatorios ORDER BY relatorios.created_at DESC \n LIMIT %(param_1)s OFFSET %(param_2)s]\n[parameters: {'param_1': 10, 'param_2': 0}]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/app/routes.py\", line 506, in reports\n    relatorios_list = query.order_by(Relatorio.created_at.desc()).limit(10).all()\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2704, in all\n    return self._iter().all()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2857, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n           ^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 951, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.InternalError: (psycopg2.errors.InFailedSqlTransaction) current transaction is aborted, commands ignored until end of transaction block\n\n[SQL: SELECT relatorios.id AS relatorios_id, relatorios.numero AS relatorios_numero, relatorios.titulo AS relatorios_titulo, relatorios.projeto_id AS relatorios_projeto_id, relatorios.visita_id AS relatorios_visita_id, relatorios.autor_id AS relatorios_autor_id, relatorios.aprovador_id AS relatorios_aprovador_id, relatorios.data_relatorio AS relatorios_data_relatorio, relatorios.data_aprovacao AS relatorios_data_aprovacao, relatorios.conteudo AS relatorios_conteudo, relatorios.checklist_data AS relatorios_checklist_data, relatorios.status AS relatorios_status, relatorios.comentario_aprovacao AS relatorios_comentario_aprovacao, relatorios.created_at AS relatorios_created_at, relatorios.updated_at AS relatorios_updated_at \nFROM relatorios ORDER BY relatorios.created_at DESC \n LIMIT %(param_1)s]\n[parameters: {'param_1': 10}]\n(Background on this error at: https://sqlalche.me/e/20/2j85)\n"}