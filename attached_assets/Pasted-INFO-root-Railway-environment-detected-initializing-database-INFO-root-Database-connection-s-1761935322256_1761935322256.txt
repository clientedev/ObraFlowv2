INFO:root:🚂 Railway environment detected - initializing database
INFO:root:✅ Database connection successful
INFO:root:✅ Database tables created successfully
INFO:root:Admin user already exists.
INFO:root:✅ Checklist padrão já existe: 6 itens encontrados
INFO:root:🧪 Testing reports functionality...
INFO:root:✅ Reports table accessible: 34 reports found
INFO:root:🔧 Checking and fixing migration state...
INFO:root:🔧 Found existing user_email_config table, ensuring migration state is correct
WARNING:firebase_utils:⚠️ Firebase não configurado - credenciais não encontradas
INFO:root:✅ Alembic version atual: a4d5b6d9c0ca
WARNING:firebase_utils:   Configure FIREBASE_CREDENTIALS_PATH ou FIREBASE_CONFIG
INFO:root:✅ RAILWAY DATABASE INITIALIZATION COMPLETE
INFO:root:🔥 Initializing Firebase Cloud Messaging...
WARNING:root:⚠️ Firebase FCM não configurado - push notifications desabilitadas
INFO:root:📅 Initializing Scheduler for background tasks...
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:root:✅ Using PostgreSQL database (Railway/Replit)
INFO:root:📁 UPLOAD_FOLDER configurado: uploads
INFO:root:✅ Flask extensions initialized successfully
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "Limpar notificações expiradas (>24h)" to job store "default"
INFO:apscheduler.scheduler:Added job "Limpeza diária às 3h" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:scheduler_tasks:✅ Scheduler iniciado com sucesso
INFO:scheduler_tasks:📅 Tarefas agendadas:
INFO:scheduler_tasks:   - Limpeza de notificações a cada 6 horas
INFO:scheduler_tasks:   - Limpeza diária às 3h da manhã
INFO:root:✅ Scheduler inicializado - tarefas periódicas ativas
INFO  [alembic.runtime.migration] Context impl PostgresqlImpl.
INFO  [alembic.runtime.migration] Will assume transactional DDL.
FAILED: Can't locate revision identified by 'a4d5b6d9c0ca'
ERROR [alembic.util.messaging] Can't locate revision identified by 'a4d5b6d9c0ca'
Stopping Container