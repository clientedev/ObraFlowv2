Prompt tÃ©cnico â€“ Item 16 (Categorias editÃ¡veis por obra)

Objetivo:
Corrigir a gestÃ£o de categorias por obra, removendo dependÃªncias hardcoded e permitindo criaÃ§Ã£o, ediÃ§Ã£o e gerenciamento dinÃ¢mico das categorias de cada obra.
A modificaÃ§Ã£o deve afetar somente e exclusivamente a funcionalidade de categorias por obra â€” nenhuma outra Ã¡rea do sistema deve ser alterada.

ğŸ§© Requisitos e Ajustes:

Remover categorias hardcoded:

Eliminar as categorias fixas (como â€œTorre 1â€, â€œÃrea comumâ€, etc.) atualmente aplicadas no template.

As obras novas devem iniciar sem categorias padrÃ£o.

CriaÃ§Ã£o de categorias ao cadastrar obra:

Ao criar uma nova obra, o sistema deve exibir um campo ou modal para inserir as categorias daquela obra (podendo deixar vazio).

As categorias devem ser armazenadas em uma tabela relacionada (categorias_obra) vinculada ao id da obra.

EdiÃ§Ã£o e gerenciamento posterior:

Obras jÃ¡ existentes devem permitir:

Adicionar novas categorias.

Editar nomes das categorias existentes.

Excluir categorias nÃ£o mais utilizadas.

Nenhum dado de relatÃ³rio anterior deve ser perdido ou desassociado.

IntegraÃ§Ã£o com relatÃ³rios:

Na tela de criaÃ§Ã£o de relatÃ³rio:

O campo â€œCategoria padrÃ£o para novas fotosâ€ deve carregar apenas as categorias vinculadas Ã  obra selecionada.

Caso a obra nÃ£o possua categorias, o campo deve exibir uma mensagem:
â€œNenhuma categoria cadastrada para esta obra.â€

Ao lado, deve aparecer um botÃ£o/link â€œAdicionar Categoriasâ€, redirecionando para a tela de gerenciamento de categorias da obra (imagem 2).

PersistÃªncia e API:

Garantir que o backend possua endpoints:

GET /api/obras/<id>/categorias â€” retorna categorias da obra.

POST /api/obras/<id>/categorias â€” cria novas categorias.

PUT /api/categorias/<id> â€” edita categoria.

DELETE /api/categorias/<id> â€” exclui categoria.

ValidaÃ§Ã£o e UX:

Se o usuÃ¡rio tentar criar um relatÃ³rio sem categorias disponÃ­veis, exibir mensagem informativa e bloquear atÃ© que pelo menos uma categoria seja criada.

Garantir interface intuitiva para gerenciar categorias (ediÃ§Ã£o inline ou via modal simples).

Manter 100% do layout e comportamento atual fora desta Ã¡rea.
Nenhum outro componente (relatÃ³rios, visitas, comunicaÃ§Ãµes, etc.) deve ser afetado.
O ajuste Ã© restrito Ã  Ã¡rea de gerenciamento e carregamento de categorias de obras.