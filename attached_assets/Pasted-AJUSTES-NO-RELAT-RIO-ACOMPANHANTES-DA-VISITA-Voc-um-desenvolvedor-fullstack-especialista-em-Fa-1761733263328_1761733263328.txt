AJUSTES NO RELAT√ìRIO + ACOMPANHANTES DA VISITA

Voc√™ √© um desenvolvedor fullstack especialista em FastAPI + SQLAlchemy + Alembic + PostgreSQL + Jinja2 + HTML + CSS + JavaScript. Realize as seguintes atualiza√ß√µes no m√≥dulo de relat√≥rios:

üö´ 1. Remover se√ß√µes obsoletas

Na tela de cria√ß√£o/edi√ß√£o de relat√≥rios:

Remover completamente as se√ß√µes:

‚úÖ "Funcion√°rios do Projeto"

‚úÖ "E-mails para Envio"

Motivo: essas informa√ß√µes agora s√£o gerenciadas na pr√≥pria Obra e est√£o unificadas. Elas n√£o devem mais aparecer no relat√≥rio.
Nenhum campo desses deve ser salvo ou enviado no backend.

‚ùó Importante: N√£o quebrar compatibilidade com dados antigos. Apenas ignorar esses campos se ainda existirem nos dados legados.

‚ûï 2. Adicionar novo bot√£o: "Acompanhantes da Visita"

Adicionar, na tela de cria√ß√£o/edi√ß√£o de relat√≥rio, um bot√£o com o texto:

üë• Acompanhantes da Visita

Comportamento do bot√£o:

Ao clicar:

Abrir um modal ou se√ß√£o din√¢mica permitindo adicionar acompanhantes.

Cada acompanhante deve ter os campos:

Nome (obrigat√≥rio)

Fun√ß√£o/Cargo (opcional)

Origem:

‚úÖ Selecionar algum funcion√°rio j√° cadastrado na obra (dropdown)

‚úÖ Ou digitar um nome manualmente (ex: cliente presente na vistoria)

Requisitos:

Permitir adicionar m√∫ltiplos acompanhantes com bot√£o "+ Adicionar".

Listar os acompanhantes j√° adicionados com op√ß√£o de Editar ou Remover.

Armazenar os acompanhantes no objeto do relat√≥rio no backend.

Exibir os acompanhantes na tela de resumo e PDF do relat√≥rio (mesmo que a gera√ß√£o do PDF seja depois).

Estruturar os dados assim no backend:

"acompanhantes": [
  { "nome": "Maria Souza", "funcao": "Engenheira", "origem": "Funcion√°rio da obra" },
  { "nome": "Jo√£o Pereira", "funcao": "Cliente", "origem": "Inserido manualmente" }
]

üóÑÔ∏è 3. Backend

Criar campo novo na tabela de relat√≥rios:

Nome: acompanhantes

Tipo: JSON (ou ARRAY se preferir)

Se ainda n√£o existir no banco, criar migration Alembic automaticamente.

Adaptar modelo SQLAlchemy e schemas Pydantic para incluir campo.

Garantir salvar/editar acompanhantes via API.

Dados antigos devem continuar funcionando sem acompanhantes.

üé® 4. Frontend

Implementar interface amig√°vel para o bot√£o "Acompanhantes da Visita".

Manter layout consistente com o restante do sistema.

Validar campos obrigat√≥rios.

N√£o enviar nada relacionado a funcion√°rios ou emails antigos.

‚úÖ Entrega com padr√£o profissional

Antes de implementar, explique seu plano de execu√ß√£o passo a passo.

Depois implemente com boas pr√°ticas.

Se precisar criar um arquivo Alembic, crie automaticamente com base no modelo atualizado (n√£o precisa exibir o conte√∫do).

Testar cria√ß√£o, edi√ß√£o e visualiza√ß√£o de relat√≥rio com acompanhantes.