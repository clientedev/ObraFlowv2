Corrija a funcionalidade de categorias de fotos por obra no sistema, garantindo que:

Remover hardcoded

Elimine os quatro itens fixos ("Torre 1", "Torre 2", "√Årea Comum", "Piscina") do c√≥digo-fonte.

Eles n√£o devem mais estar definidos manualmente no c√≥digo, apenas no banco.

Banco de Dados (PostgreSQL)

Use a tabela de categorias por obra (categorias_projetos ou equivalente; se n√£o existir, criar com Alembic).

Estrutura m√≠nima:

id SERIAL PRIMARY KEY,
projeto_id INTEGER NOT NULL REFERENCES projetos(id) ON DELETE CASCADE,
nome VARCHAR(255) NOT NULL,
ordem INTEGER DEFAULT 0,
created_at TIMESTAMP DEFAULT now()


As categorias s√£o vinculadas diretamente ao projeto/obra.

Administra√ß√£o de Categorias

J√° existe tela de gerenciamento (aba ‚ÄúCategorias‚Äù), mantenha mas corrija para refletir apenas dados reais do banco.

Permitir criar, editar e excluir categorias por obra.

Garantir que a ordem seja respeitada (campo ordem).

Cria√ß√£o de Relat√≥rio

No dropdown ‚ÄúCategoria padr√£o para novas fotos‚Äù:

Deve carregar todas as categorias cadastradas no banco para aquela obra.

Nada hardcoded.

Inclua a categoria adicionada pelo usu√°rio (TESTEa, etc.) de forma autom√°tica.

Quando uma categoria for exclu√≠da no painel da obra, n√£o deve mais aparecer no dropdown.

Fluxo Completo Funcional

Quando criar relat√≥rio ‚Üí categorias da obra aparecem.

Quando editar relat√≥rio ‚Üí categorias continuam corretas.

Quando excluir ou renomear categoria ‚Üí refletir em todos os pontos.

Garante consist√™ncia no banco: categorias pertencem sempre ao projeto/obra.

Alembic Migration

Se n√£o houver tabela de categorias espec√≠ficas por obra, criar com Alembic.

Ajustar migrations sem duplicar tabelas (verificar se j√° existe).

Testes

Criar uma categoria ‚Üí deve aparecer na cria√ß√£o de relat√≥rio.

Excluir categoria ‚Üí some imediatamente do dropdown.

Criar categorias diferentes em obras diferentes ‚Üí cada obra mostra apenas as suas categorias.

üìå Resumo:

Categorias n√£o podem mais ser hardcoded.

Categorias passam a ser vinculadas 100% ao projeto/obra.

Fluxo de relat√≥rios deve respeitar apenas o que est√° no banco.

Todas as categorias criadas devem aparecer corretamente na tela de cria√ß√£o/edi√ß√£o de relat√≥rio.